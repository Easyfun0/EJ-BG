---
layout: post
title:  "JS-å»ºæ§‹å­"
date:   2022-04-06
author: Easyfun
categories: Javascript
cover:  "/assets/coffee1.jpg"
---

## JSå‡½å¼å»ºæ§‹å¼ï¼ˆfunction constructorï¼‰

åœ¨ç‰©ä»¶å°å‘ä¸­ï¼Œconstructoræ˜¯ä¸€å€‹æ–¹æ³•å­˜åœ¨æ–¼classä¸­ï¼Œä½†JavaScriptçš„functionå–ä»£äº†constructorï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å¯«å°±ä¸ç”¨ç‰¹åœ°å¯«å‡ºconstructorçš„methodï¼Œå› ç‚ºJavaScriptåœ¨newå°±æœƒåŸ·è¡Œfunctionã€‚

é€™ç¯‡å…ˆä¾†äº†è§£ä¸€ä¸‹constructoråšçš„äº‹ï¼Œæš«ä¸”ä¸è«‡åˆ°å¤ªå¤šç‰©ä»¶å°å‘çš„è§€å¿µã€‚

å› æ­¤constructorå°±å¯ä»¥ä¾†è¨­å®šç‰©ä»¶çš„å±¬æ€§(property)æˆ–è€…ä¾†å‘¼å«(method)


## ç¯„ä¾‹ä¸€

    function Car(){
        this.name = 'BMW'
        this.price = 200
    }
    let bmw = new Car()
        console.log(bmw)

æˆ‘å€‘æœ€å¸¸ç”¨çš„æ™‚å€™å°±æ˜¯åœ¨å»ºç«‹å‡½å¼æ™‚ï¼Œä¸‹é¢çš„bmwé€énewå»ºç«‹ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢æœƒç¹¼æ‰¿Carçš„å±¬æ€§åç¨±ä»¥åŠå±¬æ€§å€¼ã€‚

![alt text]({{ site.baseurl }}/assets/con1.png "Profile Picture"){:.profile}

ç•¶æˆ‘å€‘newçš„æ™‚å€™ï¼Œæœƒå…ˆæœ‰ä¸€å€‹ç©ºçš„ç‰©ä»¶å…ˆå»ºç«‹ï¼Œå‡½å¼è£¡çš„thisæœƒè¢«æŒ‡å®šæˆå‰›å‰›å»ºç«‹çš„ç©ºç‰©ä»¶ã€‚

ç•¶åŸ·è¡ŒCaré€™å€‹functionåŸ·è¡Œthis.nameè·Ÿthis.priceæ™‚ï¼Œthisæ˜¯åœ¨å¹«é€™ç©ºç‰©ä»¶è³¦äºˆå±¬æ€§åç¨±å’Œå±¬æ€§å€¼ã€‚

## ç¯„ä¾‹äºŒ

    function Car(){
        console.log(this)
    }
    let bmw = new Car()

é€™é‚Šå¯ä»¥çœ‹å¾—å‡ºä¾†å»ºç«‹ä¸€å€‹æ–°çš„ç©ºç‰©ä»¶åç‚ºCar

![alt text]({{ site.baseurl }}/assets/con2.png "Profile Picture"){:.profile}

## ç¯„ä¾‹ä¸‰
å‡å¦‚åŠ ä¸Šreturnå°±æœƒä»¥returnçš„æ±è¥¿ç‚ºä¸»

    function Car(){
        this.name = 'BMW'
        this.price = 200
        return {"return": "æˆ‘æ˜¯return"}
    }
    let bmw = new Car()
        console.log(bmw)

å›å‚³çš„çµæœæœƒè®“åŸæœ¬è¢«å»ºç«‹çš„æ–°ç‰©ä»¶ä¸æœƒè¢«å›å‚³ï¼Œè€Œæ˜¯å›å‚³returnçš„å…§å®¹

![alt text]({{ site.baseurl }}/assets/con3.png "Profile Picture"){:.profile}

## function constructoræ‡‰ç”¨
é€éfunctionçš„æ–¹å¼å»ºç«‹æ–°ç‰©ä»¶ï¼Œæˆ‘å€‘è¦å»ºç«‹åŒå±¬æ€§ä½†ä¸åŒå±¬æ€§å€¼çš„å…§å®¹ï¼Œå¯ä»¥æŠŠç‰©ä»¶çš„å±¬æ€§å€¼è®Šæˆåƒæ•¸ã€‚

    function Car(name, price){
            this.name = name
            this.price = price
        }
    let bmw = new Car('BMW', 200)
        console.log(bmw)
    let benz = new Car('BENZ', 150)
        console.log(benz)

![alt text]({{ site.baseurl }}/assets/con4.png "Profile Picture"){:.profile}


## æ²’æœ‰new

è¦æ˜¯æˆ‘å€‘åœ¨å»ºæ§‹å­å¾Œé¢ç”¢ç”Ÿæ–°ç‰©ä»¶æ™‚å¿˜äº†åŠ ä¸Šnewçš„è©±ã€‚

    function Car(name, price){
            this.name = name
            this.price = price
        }
    let bmw = Car('BMW', 200)
        console.log(bmw)
    let benz = new Car('BENZ', 150)
        console.log(benz)

JavaScriptä¸çŸ¥é“ä½ è¦åŸ·è¡Œç¨‹å¼é‚„æ˜¯è¦æ ¹æ“šCarçš„functionä¾†å»ºç«‹ç‰©ä»¶ï¼Œæ‰€ä»¥ä»–æœƒå›å‚³undefinedã€‚

![alt text]({{ site.baseurl }}/assets/con5.png "Profile Picture"){:.profile}


## ç¸½çµ
ğŸ¤å‡½å¼å»ºæ§‹å¼ï¼ˆfunction constructorï¼‰å°±æ˜¯ä¸€å€‹functionï¼Œåªæ˜¯å¯ä»¥é€éé€™å€‹functionä¾†å»ºç«‹ç‰©ä»¶ã€‚

ğŸ¤åœ¨functionå‰åŠ ä¸Šnewçš„è©±ï¼Œä»–æœƒæŠŠthisé€™å€‹é—œéµå­—å»ºæˆä¸€å€‹æ–°çš„ç‰©ä»¶ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®šå›å‚³å…¶ä»–ç‰©ä»¶çš„è©±ï¼Œè€Œä¸”ä¸ç”¨åŠ ä¸Šreturnï¼Œä»–æœƒè‡ªå‹•å›å‚³é€™å€‹æ–°ç‰©ä»¶çµ¦ä½ ã€‚

ğŸ¤prototypeåŸå‹æœ¬èº«æ˜¯å€‹ç‰©ä»¶ï¼ŒåŒæ™‚å…·å‚™constructorå’Œï¼¿protoï¼¿ï¼ŒconstructoræŒ‡å‘å»ºæ§‹å‡½å¼ï¼Œè€Œï¼¿protoï¼¿å‰‡æŒ‡å‘Object.prototypeã€‚

## è³‡æ–™ä¾†æº

[é‹ç®—å­å„ªå…ˆåº][é‹ç®—å­å„ªå…ˆåº] @ MDN

[è«‡è«‡ JavaScript ä¸­çš„ function constructor å’Œé—œéµå­— new][è«‡è«‡ JavaScript ä¸­çš„ function constructor å’Œé—œéµå­— new] @ pjchender.dev

[é‹ç®—å­å„ªå…ˆåº]: https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence

[è«‡è«‡ JavaScript ä¸­çš„ function constructor å’Œé—œéµå­— new]: https://pjchender.blogspot.com/2016/06/javascriptfunction-constructornew.html


<script>
window.tooltips = window.tooltips || []
window.tooltips.push(['#someId', { content: "This is the text of the tooltip!" }])
window.tooltips.push(['#someOtherId', { content: "{% include tooltips/example.html %}", placement: "right" }])
</script>
